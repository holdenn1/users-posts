(()=>{"use strict";var t,e={746:(t,e,s)=>{s(149);const a=document.querySelector(".users-filter-contant"),n=document.querySelector(".filter"),i=document.querySelector(".filter__age-input"),r=document.querySelector(".users"),l=document.querySelector(".error");async function o(){try{r.remove(),l.innerHTML="",a.style.display="flex",a.innerHTML="";const t=await fetch("http://localhost:3000/users"),e=await t.json(),s=+i.value,n=e.filter((t=>t.age==s));0==n.length&&error(),n.forEach((t=>{const{id:e,name:s,age:n,photo:i,address:{city:r},website:l}=t;a.insertAdjacentHTML("beforeend",`<a class="users__link"\n\t\t\t\t\ttarget="_blank"\n\t\t\t\t\thref="./pages/page.html?id=${e}">\n\t\t\t\t\t<div id=${e} class="users__item">\n\t\t\t\t\t\t<div class="users__header">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclass="users__img"\n\t\t\t\t\t\t\t\tsrc="${i}"\n\t\t\t\t\t\t\t\talt=""\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="users__main">\n\t\t\t\t\t\t\t\t<h4 class="users__name">${s}</h4>\n\t\t\t\t\t\t\t\t<p class="users__age">${n} y. o.</p>\n\t\t\t\t\t\t\t\t<p class="users__city">City: ${r}</p>\n\t\t\t\t\t\t\t\t<p class="users__website">${l}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>`)})),i.value=""}catch(t){console.error(t),l.style.display="flex",l.insertAdjacentHTML("afterbegin",'<h4 class="error-text">No users found</h4>')}}document.addEventListener("click",(function(){event.target.closest(".filter-btn")&&n.classList.toggle("filter_active");event.target.closest(".filter")||event.target.closest(".filter-btn")||n.classList.remove("filter_active")}));const c=document.querySelector(".filter"),d=document.querySelector(".users"),u=document.getElementsByClassName("users__link"),v=document.querySelector(".search-btn"),m=document.querySelector(".lds-default"),h=document.querySelector(".load-contant"),f=document.querySelector(".error");let p;async function g(t){const e=await fetch(`http://localhost:3000/users?_start=${t}&_limit=8`),s=await e.json();return s.forEach((t=>{const{id:e,name:s,age:a,photo:n,address:{city:i},website:r}=t;d.insertAdjacentHTML("beforeend",`<a class="users__link"\n\t\t\t\ttarget="_blank"\n\t\t\t\thref="./page.html?id=${e}">\n\t\t\t\t<div id=${e} class="users__item">\n\t\t\t\t\t<div class="users__header">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclass="users__img"\n\t\t\t\t\t\t\tsrc="${n}"\n\t\t\t\t\t\t\talt=""\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="users__main">\n\t\t\t\t\t\t\t<h4 class="users__name">${s}</h4>\n\t\t\t\t\t\t\t<p class="users__age">${a} y. o.</p>\n\t\t\t\t\t\t\t<p class="users__city">City: ${i}</p>\n\t\t\t\t\t\t\t<p class="users__website">${r}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</a>`)})),{hasMore:8===s.length}}async function _(){try{h.style.height="auto";const{hasMore:t}=await g(u.length);!t&&p&&p.disconnect()}catch(t){console.error(t)}finally{h.style.height="0"}}window.onload=()=>{!async function(){try{m.style.display="flex";const{hasMore:t}=await g(0);t&&(p=function(){const t=new IntersectionObserver((([{isIntersecting:t}])=>{t&&_()}));return t.observe(h),t}())}catch(t){console.error(t),f.style.display="flex",f.insertAdjacentHTML("afterbegin",'<h4 class="error-text">Error: Users not found</h4>')}finally{m.style.display="none"}}(),v.addEventListener("click",(()=>{c.classList.remove("filter_active"),o()}))}},149:()=>{document.querySelector(".sign-up-btn");const t=document.querySelector("#avatar"),e=document.querySelector("#avatar-file"),s=document.querySelector(".sign-up-form__error"),a=[...document.getElementsByClassName("sign-up-form__item")],n=document.forms.signUp,i=n.email,r=n.password,l=n.name,o=n.gender,c=n.birthDate,d=n.orientation,u=[...n.demand],v=n.photoFile,m=n.submit;let h=0,f={};window.addEventListener("load",(()=>{document.addEventListener("click",k),e.addEventListener("change",w),n.addEventListener("click",(()=>{event.target.closest(".sign-up-form__continue-btn")||event.target.closest(".sign-up-form__buttons-next")?p[h].every((t=>t.validate()))&&h++:(event.target.closest(".sign-up-form__buttons-prev")||event.target.closest(".sign-up-form-avatar__buttons-prev"))&&h--,a.forEach((t=>{t.classList.contains("sign-up-form__item_active")&&t.classList.remove("sign-up-form__item_active")})),a[h].classList.add("sign-up-form__item_active")})),m.addEventListener("click",(()=>{p[p.length-1][0].validate()&&(navigator.geolocation.getCurrentPosition((t=>{let e=t.coords.latitude,s=t.coords.longitude;fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e}&lon=${s}&format=json&addressdetails=1&accept-language=en`).then((t=>t.json())).then((t=>{f.address=t}))})),console.log(f),n.classList.remove("sign-up-form_active"),h=0,i.value="",r.value="",l.value="",o[0].checked=!1,o[1].checked=!1,c.value="",d[0].checked=!1,d[1].checked=!1,d[2].checked=!1,d[3].checked=!1,u[0].checked=!1,u[1].checked=!1,u[2].checked=!1,u[3].checked=!1,u[4].checked=!1,u[5].checked=!1,t.src="./assets/img/icons/avatar.webp",v.value="")}))}));const p=[[{validateId:"emailInput",validate:()=>y(i)?(f.email=i.value,!0):(i.classList.add("invalid"),g("Email is invalid","Email is requred field"),!1)},{validateId:"passwordInput",validate:()=>L(r)?(f.password=r.value,!0):(r.classList.add("invalid"),g("Password must contain at least six characters, at least one letter, one number and one special character"),!1)}],[{validateId:"nameInput",validate:()=>_(l)?(l.classList.add("invalid"),g("Name is requred field"),!1):(f.name=l.value,!0)},{validateId:"ganderChoose",validate:()=>""==o.value?(g("Choose your gender please, this is requred field"),!1):(f.gander=o.value,!0)},{validateId:"birthDate",validate:()=>""==c.value?(g("Please indicate your birthday"),!1):c.value>function(t,e=new Date){e.setFullYear(e.getFullYear()-t);let s=e.getUTCMonth()+1,a=e.getUTCDate();return e.getUTCFullYear()+"-"+s+"-"+a}(6)?(g("You cannot be younger than six years old"),!1):(f.birth=c.value,!0)}],[{validateId:"orientationChoose",validate:()=>""==d.value?(g("This field is required"),!1):(f.orientation=d.value,!0)}],[{validateId:"demandsChoode",validate:()=>b().length<1?(g("You must choose at least one demand"),!1):(f.demands=b().map((t=>t.id)),!0)}],[{validateId:"uploadPhoto",validate:()=>""==v.value?(g("Upload photo"),!1):(f.photo=v.value,!0)}]];function g(t,e){s.textContent=i.value?t:e,s.style.top="10px",setTimeout((()=>{s.style.top="-70px"}),3e3)}function _(t){return/^\s*$/.test(t.value)}function y(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)}function L(t){return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/.test(t.value)}function b(){return u.filter((t=>1==t.checked))}function k(){event.target.closest(".sign-up-btn")&&n.classList.toggle("sign-up-form_active"),event.target.closest(".sign-up-btn")||event.target.closest(".sign-up-form")||n.classList.remove("sign-up-form_active")}function w(){this.files&&this.files[0]&&(t.onload=()=>URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(this.files[0]))}i.addEventListener("focus",(()=>{i.classList.contains("invalid")&&i.classList.remove("invalid")})),r.addEventListener("focus",(()=>{r.classList.contains("invalid")&&r.classList.remove("invalid")})),l.addEventListener("focus",(()=>{l.classList.contains("invalid")&&l.classList.remove("invalid")})),i.addEventListener("input",(()=>{y(i)||i.classList.add("invalid"),y(i)&&i.classList.remove("invalid")})),r.addEventListener("input",(()=>{L(r)||r.classList.add("invalid"),L(r)&&r.classList.remove("invalid")})),l.addEventListener("input",(()=>{_(l)&&l.classList.add("invalid"),_(l)||l.classList.remove("invalid")}))}},s={};function a(t){var n=s[t];if(void 0!==n)return n.exports;var i=s[t]={exports:{}};return e[t](i,i.exports,a),i.exports}a.m=e,t=[],a.O=(e,s,n,i)=>{if(!s){var r=1/0;for(d=0;d<t.length;d++){for(var[s,n,i]=t[d],l=!0,o=0;o<s.length;o++)(!1&i||r>=i)&&Object.keys(a.O).every((t=>a.O[t](s[o])))?s.splice(o--,1):(l=!1,i<r&&(r=i));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,n,i]},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={826:0,325:0};a.O.j=e=>0===t[e];var e=(e,s)=>{var n,i,[r,l,o]=s,c=0;if(r.some((e=>0!==t[e]))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(o)var d=o(a)}for(e&&e(s);c<r.length;c++)i=r[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},s=self.webpackChunk=self.webpackChunk||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var n=a.O(void 0,[325],(()=>a(746)));n=a.O(n)})();